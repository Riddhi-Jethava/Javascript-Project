let data=[
    {   
        id:1,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwf605963a/images/hi-res/50D3B2SUWAGA32_1.jpg",
        title:"Enigamatic Ruby and Diamond Stud Earrings",
        prise:40114,
        discount:5
    },
    {
        id:2,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwfc9c925a/images/hi-res/502117SKUAAA09_1.jpg",
        title:"Dainty Mesh Diamond Stud Earrings",
        prise:44148,
        discount:5
    },
    {
        id:3,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwef72e58e/images/hi-res/50D2CADACAGA29_1.jpg",
        title:"Enchating Jacket Diamond and Pearl Drp...",
        prise:40473
    },
    {
        id:4,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwdfa96c38/images/hi-res/50D3B3DHTAGA02_1.jpg",
        title:"Sparkle of Heart Diamond Drop Earrings",
        prise:41281,
        discount:5
    },
    {
        id:5,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw80ff17ec/images/hi-res/502015HIOAAA02_1.jpg",
        title:"Classis Gold and Diamond Bail Earrings",
        prise:49863,
        discount:5
    },
    {
        id:6,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw05aa3db3/images/hi-res/503414DEJADB09_1.jpg",
        title:"Fancy Teardrop Drop Earrings",
        prise:51847,
        discount:5
    },
    {
        id:7,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw20cd85d7/images/hi-res/501920HJRAAA00_1.jpg",
        title:"Slender Glint Hoop Earrings",
        prise:24299,
    },
    {
        id:8,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw4d14420d/images/hi-res/51D3A1DEBABA00_1.jpg",
        title:"Cascading chic Drop Earrings",
        prise:33431,
    },
    {
        id:9,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw02b097f8/images/hi-res/502920HBGABE00_1.jpg",
        title:"Classy Mesh Hoop Earrings",
        prise:32699
    },
    {
        id:10,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwf53a7335/images/hi-res/503618DDJABE00_1.jpg",
        title:"Refined Gold Hoop Earrings",
        prise:40999
    },
    {
        id:11,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwae214d01/images/hi-res/513618HCTAAE00_1.jpg",
        title:"Easy-Breezy Hoop Earrings",
        prise:50999
    },
    {
        id:12,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw9db5b27d/images/hi-res/502920SBVABE00_1.jpg",
        title:"Contemporary Glam Stud Earrings",
        prise:26999
    },
    {
        id:13,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwea2c135f/images/hi-res/502995DUFADA09_1.jpg",
        title:"Floral White and Rose Gold Diamond Drop",
        prise:26113
    },
    {
        id:14,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw2ea23022/images/hi-res/501151STTAGA02_1.jpg",
        title:"Contemporary Solitaire Look Diamond Stu..",
        prise:22764,
        discount:5
    },
    {
        id:15,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw95c1adda/images/hi-res/500064SVAAGC01_1.jpg",
        title:"Sassy Snowflake Gold and Diamond Stud..",
        prise:30546,
        discount:5
    },
    {
        id:16,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw0f61b6ec/images/hi-res/50D2FFDNCAGA09_1.jpg",
        title:"Shimmering Hexagon Diamonds Drop Earin..",
        prise:41727,
        discount:5
    },
    {
        id:17,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwaad92d16/images/hi-res/50D3B3DLNABA32_1.jpg",
        title:"Classy pearl and Diamond Drop Earrings",
        prise:70675,
        discount:10
    },
    {
        id:18,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw166482e3/images/hi-res/50D2FFDMZAGA09_1.jpg",
        title:"Abstract Hexagon Diamond Drop Earrings",
        prise:35262,
        discount:5
    },
    {
        id:19,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw8ff450a7/images/hi-res/500104SQAABAPL_1.jpg",
        title:"Riona Pearl stud Earrings",
        prise:18837,
        discount:10
    },
    {
        id:20,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw8ff450a7/images/hi-res/500104SQAABAPL_1.jpg",
        title:"Beguiling 22 karat Yellow Gold Overlappin",
        prise:44921
    },
    {
        id:21,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwebe9185b/images/hi-res/515090HALAAA00_1.jpg",
        title:"Leaf Inspired Gold Hoop  Earrings",
        prise:47176
    },
    {
        id:22,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dwb7602ebe/images/hi-res/51D3A1DBSABA00_1.jpg",
        title:"Delicate jail Drop Earrings",
        prise:34502
    },
    {
        id:23,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw15a25a25/images/hi-res/511556DSOAJA00_1.jpg",
        title:"Regal Gold Drop Earrings",
        prise:33120
    },
    {
        id:24,
        img:"https://www.tanishq.co.in/on/demandware.static/-/Sites-Tanishq-product-catalog/default/dw4d296482/images/hi-res/506060PKLAAA02_1.jpg",
        title:"Lumnious Swirls Diamond Pendant",
        prise:45989,
        discount:5
    }
]

    let cart=document.querySelector("#cart")

    cart.addEventListener("click",function(){
        window.open("cart.html")
    })

    function display(data){

        document.querySelector(".product").innerHTML=""

        data.map((el)=>{

            let img=document.createElement("img")

            img.setAttribute("src",el.img)

            img.setAttribute("class","w-100")

            let icon=document.createElement("i")

           

            icon.setAttribute("id","icon")

            let i=true
            icon.setAttribute("class","ri-heart-line")

            icon.addEventListener("click",function(){
                addtocart(el.id)
                if(i){
                    i=false
                    icon.setAttribute("class","ri-heart-line")
                }else{
                    i=true
                    icon.setAttribute("class","ri-heart-fill")
                }
                
            })

            // icon.style.zIndex="1"

            // img.append(icon)

            let h6=document.createElement("h6")

            h6.innerText=el.title

            h6.style.fontSize="15px"

            let p=document.createElement("p")

            let  dis=document.createElement("p")
            
            if(el.discount>0){
                p.innerHTML=`₹${Math.floor(el.prise-(el.prise*el.discount/100))} <del>₹${el.prise}</del> `
                
                p.style.float="left"

                dis.innerText=`Flat ${el.discount}% off`

                dis.style.color="red"
                dis.style.fontWeight="500"
                dis.style.float="right"
                dis.style.fontSize="13px"

            }else{
                p.innerText="₹ "+el.prise
                dis.innerText=" "
            }

            let btn=document.createElement("button")

            btn.innerHTML="Check Delivery Date"

            btn.setAttribute("id","btn")

            let div=document.createElement("div")

            div.setAttribute("class","col-xl-3","col-lg-12")

            div.setAttribute("id","m-1")

            div.append(img,h6,p,dis,btn,icon)

            document.querySelector(".product").append(div)

        })
    }

    display(data)

    let so=document.getElementById("sort")

    so.addEventListener("change",()=>{

        let sorted=sort.value 
        
        let sortvalue = []

        if(sorted==="low"){
            sortvalue=data.slice().sort((a,b)=>a.prise-b.prise)
        }else if(sorted === "high"){
            sortvalue=data.slice().sort((a,b)=>b.prise-a.prise)
        }else if(sorted==="az"){
            sortvalue=data.slice().sort((a,b)=>a.title.localeCompare(b.title))
        }else if(sorted==="za"){
            sortvalue=data.slice().sort((a,b)=>b.title.localeCompare(a.title))
        }

        display(sortvalue)
    })

    function addtocart(index){

        let product=data.filter((el)=>{
            return el.id==index
        })
        let pro=JSON.parse(localStorage.getItem("wish")) || []

        console.log(product)

        let chack=pro.find((el)=>{
            return el.id == product[0].id
        })

        if(chack){
            
        }else{
            pro.push(product[0])
        }

        localStorage.setItem("wish",JSON.stringify(pro))

    }
